class InspirationsController < ApplicationController
  before_filter :require_user, :only => [:new, :create]
  before_filter :ensure_project_id, :only => [:new, :create]
  before_filter :load_inspiration, :only => [:show, :edit, :update, :destroy]
  before_filter :load_new_inspiration, :only => [:new, :create]

  protected
  def load_inspirations
    @inspirations = Inspirations.all
  end

  def load_inspiration
    @inspiration = Inspiration.find(params[:id])
  end

  def load_new_inspiration
    @inspiration = Inspiration.new(params[:inspiration])
    @inspiration.project_id = params[:project_id]
  end

  public

  def new
  end

  def create
    if @inspiration.save
      flash[:notice] = "Inspiration created successfully."
      redirect_to @inspiration
    else
      flash.now[:error] = "There was a problem creating the inspiration."
      render :action => :new
    end
  end

  def show
  end
end
